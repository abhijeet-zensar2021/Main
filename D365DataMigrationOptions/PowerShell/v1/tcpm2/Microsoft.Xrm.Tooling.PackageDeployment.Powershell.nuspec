<?xml version="1.0" encoding="utf-8"?>
<package xmlns="http://schemas.microsoft.com/packaging/2011/08/nuspec.xsd">
  <metadata>
    <id>Microsoft.Xrm.Tooling.PackageDeployment.Powershell</id>
    <version>3.3.0.928</version>
    <authors>Microsoft Common Data Service Team</authors>
    <owners>Microsoft</owners>
    <requireLicenseAcceptance>false</requireLicenseAcceptance>
    <licenseUrl>https://go.microsoft.com/fwlink/?linkid=2108407</licenseUrl>
    <projectUrl>https://docs.microsoft.com/powershell/dynamics365/customer-engagement/overview#get-started-using-the-dynamics-365-customer-engagement-package-deployment-powershell-cmdlets</projectUrl>
    <iconUrl>https://connectoricons-prod.azureedge.net/powerappsforappmakers/icon_1.0.1056.1255.png</iconUrl>
    <description>PowerShell wrapper for CDS Package Deployer</description>
    <releaseNotes>Current Release:

3.3.0.928
Corrected an issue in the Assembly Resolution logic to prevent a possibility of incorrect type name parsing.
Added support for inmemory log capture for package deployer and CMT
Corrected an issue with CMT lookup resolution that would prefer the display name over the ID of the target of the lookup.
Corrected an issue with CMT where a failure to import would occur if, during the decision process for update vs insert, an existing record was not found by ID and the Name field of the record was null
 This would only impact default search patterns.  Entities that defined custom searchs would not be impacted.
Fixed an issue with Batch mode import that is caused by invalid guids being hand edited into datafiles.
Fixed an issue where CMT would prefer ID/Name over comparison keys when precaching data for comparison.

3.3.0.898:
  Fix in Data import to compensate for Import files created during a window of time where new virtual fields generated by CDS were incorrectly identified as valid fields.
  	This issue would cause schema validation to fail during import of complex data for some types of attributeOf type fields. 
  Up-taking fixes for Sovereign cloud discovery connectivity for login controls

3.3.0.895:
  Fixed a bug in runtime settings parsing that would mis identify a = in the value as a key value separator.

3.3.0.894:
  Fix for an issue where data import could hang without error
  Fix for an issue where importing business units that included a lookup for their own team (looped back to the entity) would not be populated on update.
  Fixed a general issue were related LookUp IDs that were discovered in the target system were not properly linked.
  Behavior Change: when using BatchMode, Create will always include the ID of the record from the source system, even if not explicitly included as a field in the exported system.

3.3.0.891:
Fix for an issue reported where related objects were not being correctly identified by name and thus not correctly linked to importing records
	This only impacted imports where the related entity did not have comparison keys
Modified Logging support in Powershell module to push logs more actively. 
Speculative fix for issue where long running PD Powershell jobs seem to hang when running in PowerShell client. 

3.3.0.888:
	Updates to internal architecture of PD.  
	Corrected a possible bug in solution install leg that would result in a "Null Object" Error
	Added in memory configuration parsing logic
	Optimized dependency checking logic


3.3.0.882:
	Cleaned up extra lines in logging output.
	Adding Logging for time taken during configuraiton parsing to aid in performance info.
	Uptook New CDS SDK drop.
	Updated the Import-CrmPackage cmdlet to accept the output of the Get-CrmPackage cmdlet. 
			This will allow a used of the powershell module to use Get-CrmPackage to find the package that they want, then pass that package info directly to Import-CrmPackage.


3.3.0.879: 
    Fixed an issue preventing logs from being generated correctly,  Logs should once again write to the log directory

3.3.0.874: 
    Added Improvements to Async solution import logic
    Updated for current xrm sdk
	Includes updates from the CMT.

3.3.0.862
	ADAL 3.19+ is now required for this module.  ADAL 2.x clients will need to be updated to use ADAL 3.x+
	
3.3.0.858
	Added support for France and New US Geos
	Added new behavior to return the full login error when initial connect fails in LastException. 
	Fixed https activation issue introduced by .net 4.8. - This should no longer require http activation to be enabled on windows. 
	Fixed issue where a long running cloned connection loses its access token.

3.3.0.844
	(Nuget-9.0.2.19)
	Logging Updates 
	Added support for forcing all packages to run Sync mode, regardless of how a given package is configured. 
	Modified RaiseFail event for RaiseFail generated from the package.  New behavior will cause PD to stop with an overall failure.

3.3.0.841 - (Nuget-9.0.2.16):
	Added native support for handing throttling messages from server. 
	Improved handling of retry logic for blocked imports due to concurrent metadata import

#### VERSION RESET HERE TO NOW FOLLOW BUILD VERSIONS OF THIS MODULE... 

NOTE: Notes Below are synced to Nuget Release Found here: https://www.nuget.org/packages/Microsoft.CrmSdk.XrmTooling.PackageDeployment.PowerShell/
9.0.2.12:
	Correcting Dependency Info on Package
	Fixed bug in CrmServiceClient which would cause some OnPrem connections to fail with an error "Item already added to List"
	Minor Perf Improvements
	  
9.0.2.11:
	Updated to include Fixed version of CrmServiceClient and login control for new US Geo ( US Gov High )
	Added support for Preferring Affinity with a given node to improve cache hit success rate.

9.0.2.9:
	Fixed a user reported issue that would cause an import patch to fail due to being misapplied. 
	Fixed a user reported issue that would cause the incorrect version of a solution to be imported under some circumstances during update.
	Added better error detection for failed Async Jobs when using Async Solution Import. 
	Major updates to error logging to make logs more concise and useful.			
          
9.0.2.8:
	Corrected an issue which would occur while importing a package that contained an upgrade for a deployed solution, where a prior version upgrade had failed leaving a holding solution. The system will now attempt to apply the current holding solution, and upon success, apply the new upgrade contained.
			
9.0.2.7: 
	Picked up updated CrmServiceClient (Microsoft.Xrm.Tooling.Connector)

9.0.2.5:
	Corrected use of strong types inside Package Deployer to allow it to work properly with packages that also include overlapping strong typed objects.
	Corrected a case where Async Solution Deployment could fail and not be correctly caught by PD.
	Corrected a spelling issue on the return of Get-CrmPackages,  Property PackageInfo.PacakgeAssemblyLocation was renamed to PackageInfo.PackageAssemblyLocation

9.0.2.4:
	Updated install flows to more correctly trigger failures on failures within user code or data import.

	UseAsyncForSolutionImport - added to commandlet
	This setting controls the default behavior of the import operations for Package Deployer.
	If set to true, Package deployer will attempt to use an Async Pattern for all solution operations where possible to do, given the server configuration.
	The default setting for this is false ( sync mode )

	Importconfig.xml - Solutions node updates.
	Added requiredimportmode as an option to force an Async or Sync import behavior for a given solution.
	This includes, upgrade or new install.
		Valid settings for this property are :
			async -  Requires the Import of this solution to be done in an async manner if the server supports it.
			sync - Requires the import of this solution to be done in a sync manner if the server supports it.
			Default behavior follows the default setting for the Package Deployer Core Process.

9.0.2.3:
	Updated with Xrm.Tooling.Connector support
	Added new dependencies for Xrm.Tooling.Connector.dll
	Fixed issues that caused unhandled exceptions to be thrown when a package resulted in an error.
	Added new notifications in logs and UX for faults (where applicable).
	Added logic to detect stuck solution import and abort the import process

9.0.0.7:
	Fixed a bug in Configuration Migration tool Lookup processing logic that was causing incorrect linking where the data set includes records that require related lookup records that share the same default name.

9.0.0.5: 
	9.0 Initial Release

9.0.0.2-preview:
	Breaking Change!
	Refactor of this package to support module invocation instead of assembly registration. This is done to support direct inclusion from nuget by ALM \ SDL tasks.
	To register module, run the RegisterXRMPackageDeployment.ps1

8.2.0.4 - 
	Initial release</releaseNotes>
    <copyright>Â© 2020 Microsoft Corporation. All rights reserved</copyright>
    <tags>PSModule PSIncludes_Cmdlet PSCmdlet_Get-CrmPackages PSCmdlet_Import-CrmPackage PSCommand_Get-CrmPackages PSCommand_Import-CrmPackage</tags>
  </metadata>
</package>